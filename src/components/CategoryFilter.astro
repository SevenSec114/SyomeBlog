---
interface Props {
  categories: { name: string; count: number }[];
  selectedCategory: string;
}

const { categories, selectedCategory } = Astro.props;
---

<div class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 mb-6">
  <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Categories</h2>
  <ul class="space-y-2">
    <li>
      <button 
        class={`w-full text-left px-3 py-2 rounded-lg transition-colors ${
          selectedCategory === '' 
            ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300' 
            : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'
        }`}
        data-category=""
      >
        All Posts
        <span class="float-right">({categories.reduce((sum, cat) => sum + cat.count, 0)})</span>
      </button>
    </li>
    {categories.map((category) => (
      <li>
        <button 
          class={`w-full text-left px-3 py-2 rounded-lg transition-colors ${
            selectedCategory === category.name 
              ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300' 
              : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'
          }`}
          data-category={category.name}
        >
          {category.name}
          <span class="float-right">({category.count})</span>
        </button>
      </li>
    ))}
  </ul>
</div>